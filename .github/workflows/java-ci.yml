name: Java CI

on: [push]

jobs:
   build:
      runs-on: ubuntu-latest
      strategy:
         matrix:
            java: [ 1.8, 11, 14 ]
      name: Java ${{ matrix.java }}
      steps:
         -  uses: actions/checkout@v2
         -  name: Set up JDK 1.8
            uses: actions/setup-java@v1
            with:
               java-version: ${{ matrix.java }}
         -  name: Cache Gradle packages
            uses: actions/cache@v2
            with:
               path: ~/.gradle/caches
               key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle') }}
               restore-keys: ${{ runner.os }}-gradle
         -  name: Build with Gradle
            run: ./gradlew build
